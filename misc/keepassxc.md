# keepassxc

跨平台的本地密码管理器。

## 安装

- 直接下载安装<https://keepassxc.org/download/>
- scoop 安装`scoop install keepassxc`

## 开始使用

### 新建数据库

首先需要新建一个数据库，并选择加密方式（密码或者密钥文件），至少要选择一种方式。如果使用密钥文件的话，推荐 keepass 专有格式的密钥文件。虽然也可以使用任意类型的文件作为密钥，但是像文本文件这种文件内容很容易被修改，就会导致永远无法解锁数据库。专有格式的密钥文件类型比较独特，不容易被其他程序读取和修改。

设置好加密之后，可以将数据库和密钥文件放到 Onedrive 等网盘中同步，这样既可以随时备份，同时将来也同步到其他设备上使用。为了安全性考虑，数据库和密钥文件最好放在不同的网盘中同步。

### 添加条目

将要保存的账号和密码添加到数据库中。要启用自动填写的话，需要标题和程序的标题相对应。

如果要保存和填写浏览器中的密码的话，需要启用浏览器集成功能。

### 自动填充

点击最上级群组并选择设置，找到自动填充设置，设置如下的序列，这在中文输入法环境中比较适用，默认你当前是中文输入状态。

实际执行的操作如下：先按 shift 键切换成英文输入状态，等待 100 毫秒，清空账户框的输入，输入用户名，TAB 切换到密码框，输入密码。

```txt
+{DELAY 100}{CLEARFIELD}{USERNAME}{TAB}{PASSWORD}
```

如果你想让自动完成后直接登录，可以在最后面再加上一个`{ENTER}`。如果有的程序中英文状态混乱，你可以先切换成全局英文状态，即可顺利完成自动填充。

### 浏览器集成

keepassxc 相较于原版 keepass 的一大优点就是自带了 TOTP、浏览器集成等几个重要功能。

要启用浏览器集成的话，需要在程序设置中启用浏览器集成，然后安装[浏览器扩展](https://chrome.google.com/webstore/detail/keepassxc-browser/oboonakemofpalcgghocfoadofidjkkk)，配对之后即可将浏览器中填写的密码保存到 keepass 数据库中。

### TOTP

TOTP 全称是基于时间的一次性密码(Time-based One Time Passwords)，常用来作为双重验证使用。在你的账户上启用双重验证之后，一般会要求你扫描二维码或者复制密钥，记住这个密钥。

然后在 keepassxc 的账号设置中右击选择 TOTP 并添加密钥，如此一来，就完成了 TOTP 的设置。需要使用时可以从 keepass 直接复制 TOTP 密码，也可以将其应用在自动填充功能里面，代码是`{TOTP}`。
